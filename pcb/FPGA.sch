EESchema Schematic File Version 4
EELAYER 30 0
EELAYER END
$Descr A4 11693 8268
encoding utf-8
Sheet 3 7
Title ""
Date ""
Rev ""
Comp ""
Comment1 ""
Comment2 ""
Comment3 ""
Comment4 ""
$EndDescr
$Comp
L UNAL_Library2:ICE40UP5K-SG48ITR50-FPGA_Lattice U5
U 1 1 5E9F2A12
P 3300 3750
F 0 "U5" H 3300 5717 50  0000 C CNN
F 1 "ICE40UP5K-SG48I" H 3300 5626 50  0000 C CNN
F 2 "Package_DFN_QFN:QFN-48-1EP_7x7mm_P0.5mm_EP5.6x5.6mm" H 3950 1750 50  0001 C CNN
F 3 "http://www.latticesemi.com/Products/FPGAandCPLD/iCE40Ultra" V 4400 2300 50  0001 C CNN
F 4 "https://www.digikey.com/product-detail/en/lattice-semiconductor-corporation/ICE40UP5K-SG48I/220-2212-1-ND/9563352" H 3300 3750 50  0001 C CNN "Digikey"
	1    3300 3750
	1    0    0    -1  
$EndComp
Text Label 1150 5000 0    50   ~ 0
FPGA_SPI_SCK
Text Label 1150 5100 0    50   ~ 0
FPGA_SPI_SS
Text Label 1150 5200 0    50   ~ 0
FPGA_SPI_SDI
Text Label 1150 5300 0    50   ~ 0
FPGA_SPI_SDO
Text Label 5350 3000 2    50   ~ 0
FPGA_CRESET_B
Text HLabel 8800 1000 0    50   BiDi ~ 0
FPGA_SPI[4..0]
Wire Bus Line
	8800 1000 9200 1000
Text Label 10100 1100 2    50   ~ 0
FPGA_SPI_SDO
Entry Wire Line
	9200 1000 9300 1100
Wire Wire Line
	9300 1100 10100 1100
Entry Wire Line
	9200 1150 9300 1250
Entry Wire Line
	9200 1300 9300 1400
Entry Wire Line
	9200 1450 9300 1550
Entry Wire Line
	9200 1600 9300 1700
Text Label 10100 1250 2    50   ~ 0
FPGA_SPI_SDI
Text Label 10100 1400 2    50   ~ 0
FPGA_SPI_SS
Text Label 10100 1550 2    50   ~ 0
FPGA_SPI_SCK
Text Label 10100 1700 2    50   ~ 0
FPGA_CRESET_B
Wire Wire Line
	9300 1250 10100 1250
Wire Wire Line
	10100 1400 9300 1400
Wire Wire Line
	9300 1550 10100 1550
Wire Wire Line
	10100 1700 9300 1700
Wire Wire Line
	1150 5000 2200 5000
Wire Wire Line
	1150 5100 2200 5100
Wire Wire Line
	1150 5200 2200 5200
Wire Wire Line
	1150 5300 2200 5300
Wire Wire Line
	5350 3000 4400 3000
Text HLabel 8800 2150 0    50   BiDi ~ 0
FPGA_I2C[1..0]
Wire Bus Line
	8800 2150 9200 2150
Text Label 10100 2250 2    50   ~ 0
FPGA_I2C_SCL
Entry Wire Line
	9200 2150 9300 2250
Wire Wire Line
	9300 2250 10100 2250
Entry Wire Line
	9200 2300 9300 2400
Text Label 10100 2400 2    50   ~ 0
FPGA_I2C_SDA
Wire Wire Line
	9300 2400 10100 2400
Wire Bus Line
	9200 2300 9200 2150
Wire Wire Line
	4400 2500 4500 2500
Wire Wire Line
	4500 2500 4500 2600
Wire Wire Line
	4500 2800 4400 2800
Wire Wire Line
	4400 2700 4500 2700
Connection ~ 4500 2700
Wire Wire Line
	4500 2700 4500 2800
Wire Wire Line
	4400 2600 4500 2600
Connection ~ 4500 2600
Wire Wire Line
	4500 2600 4500 2700
Wire Wire Line
	4400 2100 4500 2100
Wire Wire Line
	4500 2100 4500 2200
Wire Wire Line
	4500 2300 4400 2300
Wire Wire Line
	4400 2200 4500 2200
Connection ~ 4500 2200
Wire Wire Line
	4500 2200 4500 2300
$Comp
L Device:C C15
U 1 1 5EA0564A
P 4850 1850
F 0 "C15" H 4965 1896 50  0000 L CNN
F 1 "0.1u" H 4965 1805 50  0000 L CNN
F 2 "" H 4888 1700 50  0001 C CNN
F 3 "~" H 4850 1850 50  0001 C CNN
	1    4850 1850
	1    0    0    -1  
$EndComp
$Comp
L Device:C C16
U 1 1 5EA0628F
P 5300 1850
F 0 "C16" H 5415 1896 50  0000 L CNN
F 1 "0.1u" H 5415 1805 50  0000 L CNN
F 2 "" H 5338 1700 50  0001 C CNN
F 3 "~" H 5300 1850 50  0001 C CNN
	1    5300 1850
	1    0    0    -1  
$EndComp
Wire Wire Line
	4850 1550 5300 1550
Connection ~ 5300 1550
$Comp
L power:GND #PWR?
U 1 1 5EA08629
P 5300 1350
F 0 "#PWR?" H 5300 1100 50  0001 C CNN
F 1 "GND" H 5305 1177 50  0000 C CNN
F 2 "" H 5300 1350 50  0001 C CNN
F 3 "" H 5300 1350 50  0001 C CNN
	1    5300 1350
	-1   0    0    1   
$EndComp
Wire Wire Line
	5300 1550 5300 1350
Wire Wire Line
	4500 2100 4850 2100
Wire Wire Line
	5750 2100 5750 2000
Connection ~ 4500 2100
Wire Wire Line
	5300 2000 5300 2100
Connection ~ 5300 2100
Wire Wire Line
	5300 2100 5750 2100
Wire Wire Line
	4850 2000 4850 2100
Connection ~ 4850 2100
Wire Wire Line
	4850 2100 5300 2100
Wire Wire Line
	5300 1550 5750 1550
$Comp
L Device:C C17
U 1 1 5EA063FF
P 5750 1850
F 0 "C17" H 5865 1896 50  0000 L CNN
F 1 "0.1u" H 5865 1805 50  0000 L CNN
F 2 "" H 5788 1700 50  0001 C CNN
F 3 "~" H 5750 1850 50  0001 C CNN
	1    5750 1850
	1    0    0    -1  
$EndComp
Wire Wire Line
	5750 1700 5750 1550
Wire Wire Line
	5300 1700 5300 1550
Wire Wire Line
	4850 1700 4850 1550
$Comp
L Device:C C21
U 1 1 5EA12572
P 6200 2550
F 0 "C21" H 6315 2596 50  0000 L CNN
F 1 "0.1u" H 6315 2505 50  0000 L CNN
F 2 "" H 6238 2400 50  0001 C CNN
F 3 "~" H 6200 2550 50  0001 C CNN
	1    6200 2550
	1    0    0    -1  
$EndComp
$Comp
L Device:C C20
U 1 1 5EA12258
P 5750 2550
F 0 "C20" H 5865 2596 50  0000 L CNN
F 1 "0.1u" H 5865 2505 50  0000 L CNN
F 2 "" H 5788 2400 50  0001 C CNN
F 3 "~" H 5750 2550 50  0001 C CNN
	1    5750 2550
	1    0    0    -1  
$EndComp
$Comp
L Device:C C19
U 1 1 5EA120A6
P 5300 2550
F 0 "C19" H 5415 2596 50  0000 L CNN
F 1 "0.1u" H 5415 2505 50  0000 L CNN
F 2 "" H 5338 2400 50  0001 C CNN
F 3 "~" H 5300 2550 50  0001 C CNN
	1    5300 2550
	1    0    0    -1  
$EndComp
$Comp
L Device:C C18
U 1 1 5EA11CE3
P 4850 2550
F 0 "C18" H 4965 2596 50  0000 L CNN
F 1 "0.1u" H 4965 2505 50  0000 L CNN
F 2 "" H 4888 2400 50  0001 C CNN
F 3 "~" H 4850 2550 50  0001 C CNN
	1    4850 2550
	1    0    0    -1  
$EndComp
Wire Wire Line
	6200 2800 5750 2800
Connection ~ 4500 2800
Wire Wire Line
	4850 2700 4850 2800
Connection ~ 4850 2800
Wire Wire Line
	4850 2800 4500 2800
Wire Wire Line
	5300 2700 5300 2800
Connection ~ 5300 2800
Wire Wire Line
	5300 2800 4850 2800
Wire Wire Line
	5750 2700 5750 2800
Connection ~ 5750 2800
Wire Wire Line
	5750 2800 5300 2800
Wire Wire Line
	4850 2400 4850 2350
Wire Wire Line
	4850 2350 5300 2350
Wire Wire Line
	6200 2350 6200 2400
Wire Wire Line
	5750 2400 5750 2350
Connection ~ 5750 2350
Wire Wire Line
	5750 2350 6200 2350
Wire Wire Line
	5300 2400 5300 2350
Connection ~ 5300 2350
Wire Wire Line
	5300 2350 5750 2350
$Comp
L power:GND #PWR?
U 1 1 5EA20302
P 6200 2350
F 0 "#PWR?" H 6200 2100 50  0001 C CNN
F 1 "GND" H 6205 2177 50  0000 C CNN
F 2 "" H 6200 2350 50  0001 C CNN
F 3 "" H 6200 2350 50  0001 C CNN
	1    6200 2350
	-1   0    0    1   
$EndComp
Connection ~ 6200 2350
Text GLabel 6450 2100 2    50   Input ~ 0
+1V2_FPGA
Text GLabel 6450 2800 2    50   Input ~ 0
+3V3_FPGA
Wire Wire Line
	6450 2100 5750 2100
Connection ~ 5750 2100
Wire Wire Line
	6200 2700 6200 2800
Wire Wire Line
	6450 2800 6200 2800
Connection ~ 6200 2800
Text HLabel 8800 2850 0    50   Input ~ 0
FPGA_CONTROL[5..0]
Wire Bus Line
	8800 2850 9200 2850
Text Label 10100 2950 2    50   ~ 0
FPGA_CTRL_NAVD
Entry Wire Line
	9200 2850 9300 2950
Wire Wire Line
	9300 2950 10100 2950
Entry Wire Line
	9200 3000 9300 3100
Entry Wire Line
	9200 3150 9300 3250
Entry Wire Line
	9200 3300 9300 3400
Entry Wire Line
	9200 3450 9300 3550
Text Label 10100 3100 2    50   ~ 0
FPGA_CTRL_FMC_CLK
Text Label 10100 3250 2    50   ~ 0
FPGA_CTRL_NOE
Text Label 10100 3400 2    50   ~ 0
FPGA_CTRL_NWE
Text Label 10100 3550 2    50   ~ 0
FPGA_CTRL_NWAIT
Wire Wire Line
	9300 3100 10100 3100
Wire Wire Line
	10100 3250 9300 3250
Wire Wire Line
	9300 3400 10100 3400
Wire Wire Line
	10100 3550 9300 3550
Entry Wire Line
	9200 3600 9300 3700
Entry Wire Line
	9200 3600 9300 3700
Entry Wire Line
	9200 3450 9300 3550
Entry Wire Line
	9200 3600 9300 3700
Entry Wire Line
	9200 3450 9300 3550
Text Label 10100 3700 2    50   ~ 0
FPGA_CTRL_NE
Wire Wire Line
	9300 3700 10100 3700
Text Label 5350 3300 2    50   ~ 0
FPGA_CTRL_NOE
Wire Wire Line
	5350 3300 4400 3300
Text Label 5350 3400 2    50   ~ 0
FPGA_CTRL_NWE
Wire Wire Line
	5350 3400 4400 3400
Text Label 5350 3500 2    50   ~ 0
FPGA_CTRL_NWAIT
Wire Wire Line
	5350 3500 4400 3500
Text Label 5350 3600 2    50   ~ 0
FPGA_CTRL_NE
Wire Wire Line
	5350 3600 4400 3600
Text Label 5350 3700 2    50   ~ 0
FPGA_CTRL_NAVD
Wire Wire Line
	5350 3700 4400 3700
Text Label 5350 4000 2    50   ~ 0
FPGA_CTRL_FMC_CLK
Wire Wire Line
	5350 4000 4400 4000
$Comp
L Device:R R?
U 1 1 5EAC9E96
P 5650 3100
F 0 "R?" V 5443 3100 50  0000 C CNN
F 1 "1k" V 5534 3100 50  0000 C CNN
F 2 "Resistor_SMD:R_0603_1608Metric_Pad1.05x0.95mm_HandSolder" V 5580 3100 50  0001 C CNN
F 3 "~" H 5650 3100 50  0001 C CNN
	1    5650 3100
	0    1    1    0   
$EndComp
$Comp
L Device:LED D?
U 1 1 5EACA82D
P 6100 3100
F 0 "D?" H 6093 2845 50  0000 C CNN
F 1 "LED" H 6093 2936 50  0000 C CNN
F 2 "" H 6100 3100 50  0001 C CNN
F 3 "~" H 6100 3100 50  0001 C CNN
	1    6100 3100
	-1   0    0    1   
$EndComp
$Comp
L power:GND #PWR?
U 1 1 5EACAF74
P 6400 3150
F 0 "#PWR?" H 6400 2900 50  0001 C CNN
F 1 "GND" H 6405 2977 50  0000 C CNN
F 2 "" H 6400 3150 50  0001 C CNN
F 3 "" H 6400 3150 50  0001 C CNN
	1    6400 3150
	1    0    0    -1  
$EndComp
Wire Wire Line
	5500 3100 4400 3100
Wire Wire Line
	5800 3100 5950 3100
Wire Wire Line
	6250 3100 6400 3100
Wire Wire Line
	6400 3100 6400 3150
$Comp
L power:GND #PWR?
U 1 1 5EAD08BD
P 8400 5950
F 0 "#PWR?" H 8400 5700 50  0001 C CNN
F 1 "GND" H 8405 5777 50  0000 C CNN
F 2 "" H 8400 5950 50  0001 C CNN
F 3 "" H 8400 5950 50  0001 C CNN
	1    8400 5950
	1    0    0    -1  
$EndComp
Text GLabel 8300 4500 0    50   Input ~ 0
+3V3_FPGA
$Comp
L Device:C C?
U 1 1 5EAD3101
P 8650 4650
F 0 "C?" H 8765 4696 50  0000 L CNN
F 1 "0.1u" H 8765 4605 50  0000 L CNN
F 2 "" H 8688 4500 50  0001 C CNN
F 3 "~" H 8650 4650 50  0001 C CNN
	1    8650 4650
	1    0    0    -1  
$EndComp
Wire Wire Line
	8300 4500 8400 4500
Connection ~ 8400 4500
Wire Wire Line
	8400 4500 8650 4500
$Comp
L power:GND #PWR?
U 1 1 5EAD763A
P 8650 4900
F 0 "#PWR?" H 8650 4650 50  0001 C CNN
F 1 "GND" H 8655 4727 50  0000 C CNN
F 2 "" H 8650 4900 50  0001 C CNN
F 3 "" H 8650 4900 50  0001 C CNN
	1    8650 4900
	1    0    0    -1  
$EndComp
Wire Wire Line
	8650 4900 8650 4800
$Comp
L UNAL_Library:MEMORY_S25FL116K0XMFIQ11_S25FL116K0XMFIQ11 U?
U 1 1 5EADD3D0
P 8400 5450
F 0 "U?" H 8650 5050 50  0000 C CNN
F 1 "W25Q16JVSSIQ TR" H 8800 5150 50  0000 C CNN
F 2 "Package_SO:SO-8_5.3x6.2mm_P1.27mm" H 8400 5450 50  0001 C CNN
F 3 "http://www.winbond.com/resource-files/w25q16jv%20spi%20revg%2003222018%20plus.pdf" H 8400 5450 50  0001 C CNN
F 4 "W25Q16JVSSIQTR-ND" H 8400 5450 50  0001 C CNN "Digikey"
	1    8400 5450
	1    0    0    -1  
$EndComp
Wire Wire Line
	8400 5750 8400 5950
Wire Wire Line
	8400 4500 8400 4750
$Comp
L Device:R R?
U 1 1 5EAE1928
P 7900 5050
F 0 "R?" H 7970 5096 50  0000 L CNN
F 1 "10k" H 7970 5005 50  0000 L CNN
F 2 "Resistor_SMD:R_0603_1608Metric_Pad1.05x0.95mm_HandSolder" V 7830 5050 50  0001 C CNN
F 3 "~" H 7900 5050 50  0001 C CNN
	1    7900 5050
	1    0    0    -1  
$EndComp
$Comp
L Device:R R?
U 1 1 5EAE209A
P 7650 5050
F 0 "R?" H 7720 5096 50  0000 L CNN
F 1 "10k" H 7720 5005 50  0000 L CNN
F 2 "Resistor_SMD:R_0603_1608Metric_Pad1.05x0.95mm_HandSolder" V 7580 5050 50  0001 C CNN
F 3 "~" H 7650 5050 50  0001 C CNN
	1    7650 5050
	1    0    0    -1  
$EndComp
Wire Wire Line
	8000 5350 7900 5350
Wire Wire Line
	7900 5350 7900 5200
Wire Wire Line
	8000 5450 7650 5450
Wire Wire Line
	7650 5450 7650 5200
Wire Wire Line
	7650 4900 7650 4750
Wire Wire Line
	7650 4750 7900 4750
Connection ~ 8400 4750
Wire Wire Line
	8400 4750 8400 5150
Wire Wire Line
	7900 4900 7900 4750
Connection ~ 7900 4750
Wire Wire Line
	7900 4750 8400 4750
$Comp
L Device:R R?
U 1 1 5EAEA440
P 7650 5750
F 0 "R?" H 7720 5796 50  0000 L CNN
F 1 "10K" H 7720 5705 50  0000 L CNN
F 2 "Resistor_SMD:R_0603_1608Metric_Pad1.05x0.95mm_HandSolder" V 7580 5750 50  0001 C CNN
F 3 "~" H 7650 5750 50  0001 C CNN
	1    7650 5750
	1    0    0    -1  
$EndComp
Wire Wire Line
	7650 5600 7650 5550
Wire Wire Line
	7650 5550 8000 5550
$Comp
L power:GND #PWR?
U 1 1 5EAED0B2
P 7650 5950
F 0 "#PWR?" H 7650 5700 50  0001 C CNN
F 1 "GND" H 7655 5777 50  0000 C CNN
F 2 "" H 7650 5950 50  0001 C CNN
F 3 "" H 7650 5950 50  0001 C CNN
	1    7650 5950
	1    0    0    -1  
$EndComp
Wire Wire Line
	7650 5950 7650 5900
Text Label 9500 5550 2    50   ~ 0
FPGA_SPI_SDI
Text Label 9500 5450 2    50   ~ 0
FPGA_SPI_SDO
Text Label 9500 5350 2    50   ~ 0
FPGA_SPI_SCK
Wire Wire Line
	8800 5450 9500 5450
Wire Wire Line
	9500 5550 8800 5550
$Comp
L Device:R R?
U 1 1 5EAF83E0
P 9800 5350
F 0 "R?" V 9593 5350 50  0000 C CNN
F 1 "10k" V 9684 5350 50  0000 C CNN
F 2 "Resistor_SMD:R_0603_1608Metric_Pad1.05x0.95mm_HandSolder" V 9730 5350 50  0001 C CNN
F 3 "~" H 9800 5350 50  0001 C CNN
	1    9800 5350
	0    1    1    0   
$EndComp
Wire Wire Line
	8800 5350 9650 5350
Text GLabel 10050 5350 2    50   Input ~ 0
+3V3_FPGA
Wire Wire Line
	10050 5350 9950 5350
Wire Notes Line
	7350 4150 10600 4150
Wire Notes Line
	10600 6250 7350 6250
Text Notes 8000 4350 2    50   ~ 0
FLASH MEMORY
Wire Notes Line
	7350 4150 7350 6250
Wire Notes Line
	10600 4150 10600 6250
Text HLabel 4700 4750 2    50   Output ~ 0
FPGA_SOLENOID1
Text HLabel 4700 4850 2    50   Output ~ 0
FPGA_SOLENOID2
Wire Wire Line
	4700 4750 4400 4750
Wire Wire Line
	4400 4850 4700 4850
Wire Bus Line
	9200 1000 9200 1600
Wire Bus Line
	9200 2850 9200 3600
$EndSCHEMATC
